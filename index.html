<html>
<head>
<meta charset="utf-8">
<title>Nuclear reactor simulation</title>
<link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="my_title">Nuclear reactor simulation</div>
    <div class="visualisation">
        <div class='rods_matrix'>
            <div class='rods_row'>
                <div id="0" class='rod' onclick="select_rod(this)"></div>
                <div id="1" class='rod' onclick="select_rod(this)"></div>
            </div>
            <div class='rods_row'>
                <div id="2" class='rod' onclick="select_rod(this)"></div>
                <div id="3" class='rod' onclick="select_rod(this)"></div>
                <div id="4" class='rod' onclick="select_rod(this)"></div>
                <div id="5" class='rod' onclick="select_rod(this)"></div>
                <div id="6" class='rod' onclick="select_rod(this)"></div>
                <div id="7" class='rod' onclick="select_rod(this)"></div>
            </div>
            <div class='rods_row'>
                <div id="8" class='rod' onclick="select_rod(this)"></div>
                <div id="9" class='rod' onclick="select_rod(this)"></div>
                <div id="10" class='rod' onclick="select_rod(this)"></div>
                <div id="11" class='rod' onclick="select_rod(this)"></div>
                <div id="12" class='rod' onclick="select_rod(this)"></div>
                <div id="13" class='rod' onclick="select_rod(this)"></div>
                <div id="14" class='rod' onclick="select_rod(this)"></div>
                <div id="15" class='rod' onclick="select_rod(this)"></div>
            </div>
            <div class='rods_row'>
                <div id="16" class='rod' onclick="select_rod(this)"></div>
                <div id="17" class='rod' onclick="select_rod(this)"></div>
                <div id="18" class='rod' onclick="select_rod(this)"></div>
                <div id="19" class='rod' onclick="select_rod(this)"></div>
                <div id="20" class='rod' onclick="select_rod(this)"></div>
                <div id="21" class='rod' onclick="select_rod(this)"></div>
                <div id="22" class='rod' onclick="select_rod(this)"></div>
                <div id="23" class='rod' onclick="select_rod(this)"></div>
                <div id="24" class='rod' onclick="select_rod(this)"></div>
                <div id="25" class='rod' onclick="select_rod(this)"></div>
            </div>
            <div class='rods_row'>
                <div id="26" class='rod' onclick="select_rod(this)"></div>
                <div id="27" class='rod' onclick="select_rod(this)"></div>
                <div id="28" class='rod' onclick="select_rod(this)"></div>
                <div id="29" class='rod' onclick="select_rod(this)"></div>
                <div id="30" class='rod' onclick="select_rod(this)"></div>
                <div id="31" class='rod' onclick="select_rod(this)"></div>
                <div id="32" class='rod' onclick="select_rod(this)"></div>
                <div id="33" class='rod' onclick="select_rod(this)"></div>
                <div id="34" class='rod' onclick="select_rod(this)"></div>
                <div id="35" class='rod' onclick="select_rod(this)"></div>
            </div>
            <div class='rods_row'>
                <div id="36" class='rod' onclick="select_rod(this)"></div>
                <div id="37" class='rod' onclick="select_rod(this)"></div>
                <div id="38" class='rod' onclick="select_rod(this)"></div>
                <div id="39" class='rod' onclick="select_rod(this)"></div>
                <div id="40" class='rod' onclick="select_rod(this)"></div>
                <div id="41" class='rod' onclick="select_rod(this)"></div>
                <div id="42" class='rod' onclick="select_rod(this)"></div>
                <div id="43" class='rod' onclick="select_rod(this)"></div>
                <div id="44" class='rod' onclick="select_rod(this)"></div>
                <div id="45" class='rod' onclick="select_rod(this)"></div>
                <div id="46" class='rod' onclick="select_rod(this)"></div>
                <div id="47" class='rod' onclick="select_rod(this)"></div>
            </div>    
            <div class='rods_row'>
                <div id="48" class='rod' onclick="select_rod(this)"></div>
                <div id="49" class='rod' onclick="select_rod(this)"></div>
                <div id="50" class='rod' onclick="select_rod(this)"></div>
                <div id="51" class='rod' onclick="select_rod(this)"></div>
                <div id="52" class='rod' onclick="select_rod(this)"></div>
                <div id="53" class='rod' onclick="select_rod(this)"></div>
                <div id="54" class='rod' onclick="select_rod(this)"></div>
                <div id="55" class='rod' onclick="select_rod(this)"></div>
                <div id="56" class='rod' onclick="select_rod(this)"></div>
                <div id="57" class='rod' onclick="select_rod(this)"></div>
                <div id="58" class='rod' onclick="select_rod(this)"></div>
                <div id="59" class='rod' onclick="select_rod(this)"></div>
            </div> 
            <div class='rods_row'>
                <div id="60" class='rod' onclick="select_rod(this)"></div>
                <div id="61" class='rod' onclick="select_rod(this)"></div>
                <div id="62" class='rod' onclick="select_rod(this)"></div>
                <div id="63" class='rod' onclick="select_rod(this)"></div>
                <div id="64" class='rod' onclick="select_rod(this)"></div>
                <div id="65" class='rod' onclick="select_rod(this)"></div>
                <div id="66" class='rod' onclick="select_rod(this)"></div>
                <div id="67" class='rod' onclick="select_rod(this)"></div>
                <div id="68" class='rod' onclick="select_rod(this)"></div>
                <div id="69" class='rod' onclick="select_rod(this)"></div>
            </div>  
            <div class='rods_row'>
                <div id="70" class='rod' onclick="select_rod(this)"></div>
                <div id="71" class='rod' onclick="select_rod(this)"></div>
                <div id="72" class='rod' onclick="select_rod(this)"></div>
                <div id="73" class='rod' onclick="select_rod(this)"></div>
                <div id="74" class='rod' onclick="select_rod(this)"></div>
                <div id="75" class='rod' onclick="select_rod(this)"></div>
                <div id="76" class='rod' onclick="select_rod(this)"></div>
                <div id="77" class='rod' onclick="select_rod(this)"></div>
                <div id="78" class='rod' onclick="select_rod(this)"></div>
                <div id="79" class='rod' onclick="select_rod(this)"></div>
            </div>
            <div class='rods_row'>
                <div id="80" class='rod' onclick="select_rod(this)"></div>
                <div id="81" class='rod' onclick="select_rod(this)"></div>
                <div id="82" class='rod' onclick="select_rod(this)"></div>
                <div id="83" class='rod' onclick="select_rod(this)"></div>
                <div id="84" class='rod' onclick="select_rod(this)"></div>
                <div id="85" class='rod' onclick="select_rod(this)"></div>
                <div id="86" class='rod' onclick="select_rod(this)"></div>
                <div id="87" class='rod' onclick="select_rod(this)"></div>
            </div>
            <div class='rods_row'>
                <div id="88" class='rod' onclick="select_rod(this)"></div>
                <div id="89" class='rod' onclick="select_rod(this)"></div>
                <div id="90" class='rod' onclick="select_rod(this)"></div>
                <div id="91" class='rod' onclick="select_rod(this)"></div>
                <div id="92" class='rod' onclick="select_rod(this)"></div>
                <div id="93" class='rod' onclick="select_rod(this)"></div>
            </div>
            <div class='rods_row'>
                <div id="94" class='rod' onclick="select_rod(this)"></div>
                <div id="95" class='rod' onclick="select_rod(this)"></div>
            </div>
        </div>
    <img id="pump" class="pump_image" src="pump.jpg">
    </div>
    <div class="stats">
        <label>Status</label>
        <div id="status_display" class="text_display"></div>
        <label>Reactor Power [MW]</label>
        <div id="power_display" class="digit_display">---.-</div>
        <label>Temperature [C]</label>  
        <div id="temperature_display" class="digit_display">---.-</div>
    </div>

    <div class="main_panel">
        <div class="selector_bar">
            <label>Control method select</label>
            <div id="manual_btn" class="btn" onclick="manual_select()">Manual</div>
            <div id="auto_btn" class="btn" onclick="auto_select()">Auto</div>
        </div>
        <div  id="manual_panel">
            <h1>Manual control panel</h1>
            <label>Control rods height</label>
            <input id="rod_position_slider" type="range" class="my_slider" value="0" min="0" max="100" oninput="change_rod_position(this)">
            <div class='btn', onclick="select_all_rods()">Select all rods</div>
            <div class='btn', onclick="unselect_all_rods()">Unselect all rods</div>
            <label>Pump power</label>
            <input id="pump_power_slider" type="range" class="my_slider" value="0" min="0" max="100" oninput="change_pump_power(this)">
            <div class='btn' onclick="emergency_shutdown()">Emergency shutdown</div>
        </div>
        <div id="automatic_panel">
            <h1>Automatic control panel</h1>
            <label id="commanded_power_label">Commanded power: 0 MW</label>
            <input id="commanded_power_slider" type="range" class="my_slider" value="0" min="0" max="3000" oninput="change_reactor_power(this)">
        </div>
        <div class="sim_control_bar">
            <div id="start_btn" class='btn', onclick="sim_start()">START</div>
            <div id="stop_btn" class='btn', onclick="sim_stop()">STOP</div>
        </div>
    </div>

    <script type="text/javascript">
    var rods_status = [];
    var pump_power = 0.0;
    var selected_all = false;
    var sim_enable = false;
    var actual_reactor_power = 0.0;
    var commanded_reactor_power = 0.0;
    var actual_reactor_temperature = 0.0;
    var commanded_reactor_temperature = 235.0;
    var auto_mode;
    </script>
    <script type="text/javascript" src="ode_solver.js"> </script>
    <script type="text/javascript" src="control.js"> </script>
</body>
</html>

